<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>User Dashboard</title>
</head>
<body>
<h1>Welcome, <span th:text="${#authentication.name}">User</span>!</h1>
<p th:text="${#authentication.principal}"></p>


<p>Roles: <span th:each="role : ${#authentication.authorities}" th:text="${role}">Role</span></p>

<div>
    <h2>Common Section</h2>
    <p>This section is visible to all logged-in users.</p>
</div>

<div th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
    <h2>Admin Section</h2>
    <p>Only admins can see this content.</p>
</div>

<div th:if="${#authorization.expression('hasRole(''ROLE_USER'')')}">
    <h2>User Section</h2>
    <p>This content is for regular users.</p>
</div>

<a th:href="@{/logout}">Logout</a>

<div th:replace="~{fragments/navbar :: navbar}"></div>

</body>
</html>
</body>
</html>
